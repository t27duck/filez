<%= turbo_frame_tag dom_id(@upload, prefix: :share_url) do %>
  <%= form_with url: share_path, class: "flex justify-between mt-8" do |form| %>
    <%= hidden_field_tag :id, @upload.token %>
    <%= form.submit "Generate Share URL", class: "button-primary" %>
    <%= select_tag :expires, options_for_select([["Never", nil], ["10 minutes", "10min"], ["1 hour", "1h"], ["1 day", "1d"]]), prompt: "Expire URL in...", class: "rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 sm:text-sm sm:leading-6" %>
  <% end %>
  <% if @share_url %>
    <%= tag.div class: "relative mt-2 rounded-md shadow-sm",
      data: {
        controller: "clipboard",
        clipboard_text_value: @share_url
      } do %>
      <%= text_field_tag :share_url, @share_url, autocomplete: "off", class:"textfield w-full pr-20" %>
      <div class="absolute inset-y-0 right-0 flex items-center">
        <%= button_tag "Copy", class: "h-full py-0 button-primary sm:text-sm", data: { action: "click->clipboard#copy", clipboard_target: "button" } %>
      </div>
    <% end %>
  <% end %>
<% end %>
